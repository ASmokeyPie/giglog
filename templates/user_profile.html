{% extends "base.html" %}
{% block title %}{{ username }}'s Profile{% endblock %}

{% block content %}
<h2>{{ username }}'s Profile</h2>
<hr>

{% if username != session.user %}
	{% if is_following %}
		<!-- Unfollow button -->
		<form action="{{ url_for('unfollow', username=username) }}" method="post" style="display:inline;">
			<button type="submit" class="btn btn-secondary">
				<i class="bi bi-check-circle-fill"></i> Following
			</button>
		</form>
	{% else %}
		<!-- Follow button -->
		<form action="{{ url_for('follow', username=username) }}" method="post" style="display:inline;">
			<button type="submit" class="btn btn-primary">
				<i class="bi bi-person-plus-fill"></i> Follow
			</button>
		</form>
	{% endif %}
{% endif %}

<h3 class="mt-4">Gigs Logged</h3>
<ul class="list-group">
	{% for gig in gigs %}
		<li class="list-group-item">
			<strong>{{ gig.artist }}</strong> - {{ gig.venue }}
			<br>
			<small>{{ gig.date | datetimeformat }}</small>
			<br>
			<em>{{ gig.review }}</em>
		</li>
	{% endfor %}
</ul>

{% endblock %}