<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial- scale=1.0">
	<title>Giglog | {% block title %}{% endblock %}</title>

	<!-- Bootstrap 5 -->
	<link 
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet">
	  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

</head>

<body>
	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
		<div class="container-fluid">
			<a class="navbar-brand" href="{{ url_for('index') }}">Giglog</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item"><a class="nav-link" href="{{ url_for('index') }}">Home</a></li>
					<li class="nav-item"><a class="nav-link" href="{{ url_for('feed') }}">Feed</a></li>
					<li class="nav-item"><a class="nav-link" href="{{ url_for('add_gig') }}">Add Gig</a></li>
					{% if session.get('user') %}
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('profile') }}">
								<span class="badge rounded-pill bg-primary px-3 py-2">
									<i class="bi bi-person-circle"></i> {{ session['user'] }}
								</span>
							</a>
						</li>
						<li class="nav-item"><a class="nav-link" href="{{ url_for('logout') }}">Logout</a></li>
					{% else %}
						<li class="nav-item"><a class="nav-link" href="{{ url_for('login') }}">Login</a></li>
						<li class="nav-item"><a class="nav-link" href="{{ url_for('register') }}">Register</a></li>
					{% endif %}
				</ul>
			</div>
		</div>
	</nav>
	
	<!-- Flash Messages -->
	<div class="container mt-3">
		{% with messages = get_flashed_messages(with_categories=true) %}
			{% if messages %}
				{% for category, message in messages %}
					<div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
						{{ message }}
						<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
					</div>
				{% endfor %}
			{% endif %}
		{% endwith %}
	</div>

	
	<!-- Main Container -->
	<div class="container">
		{% block content %}{% endblock %}
	</div>

<footer class="bg-dark text-light mt-5 py-4">
    <div class="container">
        <div class="row">
            <!-- Site Links -->
            <div class="col-md-4 mb-3">
                <h5 class="text-uppercase">Navigation</h5>
                <ul class="list-unstyled">
                    <li><a href="#" class="text-light">About</a></li>
                    <li><a href="#" class="text-light">Contact</a></li>
                    <li><a href="#" class="text-light">Help</a></li>
                </ul>
            </div>

            <!-- Social Icons -->
            <div class="col-md-4 mb-3">
                <h5 class="text-uppercase">Follow Us</h5>
                <a href="#" class="text-light me-3"><i class="bi bi-facebook fs-4"></i></a>
                <a href="#" class="text-light me-3"><i class="bi bi-twitter-x fs-4"></i></a>
                <a href="#" class="text-light me-3"><i class="bi bi-instagram fs-4"></i></a>
                <a href="#" class="text-light"><i class="bi bi-github fs-4"></i></a>
            </div>

            <!-- Extra Info -->
            <div class="col-md-4 mb-3">
                <h5 class="text-uppercase">More</h5>
                <p class="small mb-1">A simple gig logging app built with Flask.</p>
                <p class="small mb-0">Version 1.0</p>
            </div>

        </div>

        <hr class="border-light">

        <!-- Copyright -->
        <div class="text-center small">
            &copy; {{ current_year }} Giglog. All rights reserved.
        </div>

    </div>
</footer>


<!-- Scripts -->
<script>
  window.setTimeout(function() {
      var alerts = document.querySelectorAll('.alert');
      alerts.forEach(function(alert) {
          new bootstrap.Alert(alert).close();
      });
  }, 5000); // 5000ms = 5 seconds until alert slef-closes
</script>

	
<!-- Bootstrap 5 JS Bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>